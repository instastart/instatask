<!doctype html>

<html>
<head>
	<title>Commands Page</title>	
	{{> headers}} 
</head>

<body>
<div style="padding:10px;">
  <h1>Commands Page</h1>

  <p>This page won't exist on the real application. However, the purpose of this page is to demonstrate the functionality of our app by allowing you to run the food meetup matching algorithm without having to wait to 10 pm of every day.</p>


  <p>Run the meetup matching algorithm for the next <input id="commandDays" type="number" value="1" min="1" max="7"> days</p>

  <button id="bu" onclick="runMatchingAlgorithm()">RUN</button>
</div>

<script>

function runMatchingAlgorithm() {
  var days = $("#commandDays").val();
  $("#bu").text("RUNNING");
  $("#bu").attr("disabled", true);
  $.post("/command", {"days": days}, function(data) {
    if (data.success) {
      alert("Matching algorithm has successfuly finished");
      $("#bu").text("RUN");
      $("#bu").removeAttr("disabled");
    } else {
      alert(data.error);
    }
  });
}

</script>

</body>
</html>
